!function e(r,t,a){function s(o,i){if(!t[o]){if(!r[o]){var u="function"==typeof require&&require;if(!i&&u)return u(o,!0);if(n)return n(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var d=t[o]={exports:{}};r[o][0].call(d.exports,function(e){var t=r[o][1][e];return s(t?t:e)},d,d.exports,e,r,t,a)}return t[o].exports}for(var n="function"==typeof require&&require,o=0;o<a.length;o++)s(a[o]);return s}({1:[function(e,r,t){(function(t){var a={CompressedTextureManager:e("./CompressedTextureManager.js"),compressedImageParser:e("./compressedImageParser.js"),extensionChooser:e("./extensionChooser.js"),extensionFixer:e("./extensionFixer.js"),detectExtensions:function(e){if(e instanceof PIXI.WebGLRenderer){var r=e.plugins.compressedTextureManager.getSupportedExtensions();r.dxt&&extensions.push(".dxt"),r.pvrtc&&extensions.push(".pvr"),r.atc&&extensions.push(".atc")}else e instanceof PIXI.CanvasRenderer;if(2==e.resolution){for(var t=extensions.slice(0);t.length>0;)extensions.push("@2x"+t.pop());extensions.push("@2x.png"),extensions.push("@2x.jpg")}}};PIXI.loaders.Loader.addPixiMiddleware(a.compressedImageParser),PIXI.loaders.Loader.addPixiMiddleware(a.extensionFixer),PIXI.loader.use(a.compressedImageParser()),PIXI.loader.use(a.extensionFixer()),r.exports=t.PIXI.compressedTextures=a}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./CompressedTextureManager.js":3,"./compressedImageParser.js":4,"./extensionChooser.js":5,"./extensionFixer.js":6}],2:[function(e,r,t){function a(e,r,t,a,s,n,o){this.src=e,this.width=a,this.height=s,this.data=r,this.type=t,this.levels=n,this.internalFormat=o,this.complete=!0,this.isCompressedImage=!0,this.dispose=function(){this.data=null},this.generateWebGLTexture=function(e,r){if(null==this.data)throw"Trying to create a second (or more) webgl texture from the same CompressedImage : "+this.src;for(var t=this.width,a=this.height,s=0,o=0;o<this.levels;++o){var i=u(this.internalFormat,t,a),c=new Uint8Array(this.data.buffer,this.ta.byteOffset+s,i);e.compressedTexImage2D(e.TEXTURE_2D,o,this.internalFormat,t,a,0,c),t>>=1,1>t&&(t=1),a>>=1,1>a&&(a=1),s+=i}n>1?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR_MIPMAP_NEAREST)):(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR)),r||(this.data=null)}}function s(e,r){var t=new Int32Array(e,0,T);if(t[I]!=x)throw"Invalid magic number in DDS header";if(!t[P]&g)throw"Unsupported format, must contain a FourCC code";var s,n=t[A];switch(n){case b:s=c;break;case R:s=d;break;case w:s=l;break;case M:s=f;break;case X:s=p;break;case y:s=h;break;default:throw"Unsupported FourCC code: "+i(n)}var o=1;t[v]&m&&(o=Math.max(1,t[U]));var u=t[_],D=t[E],L=t[C]+4,F=new Uint8Array(e,L);return new a(r,F,"DDS",u,D,o,s)}function n(e,r){var t=new Int32Array(e,0,H);if(t[Y]!=K)throw"Invalid magic number in PVR header";var s,n=t[z];switch(n){case N:s=L;break;case B:s=k;break;case O:s=D;break;case j:s=F;break;case G:s=S;break;case W:s=c;break;case V:s=d;break;case q:s=l;break;default:throw"Unsupported PVR format: "+n}var o=t[J],i=t[Z],u=t[Q],f=t[$]+52,p=new Uint8Array(e,f);return new a(r,p,"PVR",o,i,u,s)}function o(e){return e.charCodeAt(0)+(e.charCodeAt(1)<<8)+(e.charCodeAt(2)<<16)+(e.charCodeAt(3)<<24)}function i(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)}function u(e,r,t){switch(e){case c:case f:case S:return(r+3>>2)*(t+3>>2)*8;case d:case l:case p:case h:return(r+3>>2)*(t+3>>2)*16;case D:case F:return Math.floor((Math.max(r,8)*Math.max(t,8)*4+7)/8);case L:case k:return Math.floor((Math.max(r,16)*Math.max(t,8)*2+7)/8);default:return 0}}r.exports=a,a.loadFromArrayBuffer=function(e,r){var t=new Uint8Array(e,0,3);if(t[0]=="DDS".charCodeAt(0)&&t[1]=="DDS".charCodeAt(1)&&t[2]=="DDS".charCodeAt(2))return s(e,r);if(t[0]=="PVR".charCodeAt(0)&&t[1]=="PVR".charCodeAt(1)&&t[2]=="PVR".charCodeAt(2))return n(e,r);throw"Compressed texture format is not recognized: "+r};var c=33776,d=33778,l=33779,f=35986,p=35987,h=34798,x=542327876,m=131072,g=4,T=31,I=0,C=1,v=2,E=3,_=4,U=7,P=20,A=21,b=o("DXT1"),R=o("DXT3"),w=o("DXT5"),M=o("ATC "),X=o("ATCA"),y=o("ATCI"),D=35840,L=35841,F=35842,k=35843,S=36196,N=0,B=1,O=2,j=3,G=6,W=7,V=9,q=5,H=13,K=55727696,Y=0,z=2,Z=6,J=7,Q=11,$=12},{}],3:[function(e,r,t){function a(e){o.call(this,e)}var s=PIXI,n=e("./CompressedImage"),o=s.WebGLManager;a.prototype.getSupportedExtensions=function(){function e(e,r){var t=["","WEBKIT_","MOZ_"],a=null;for(var s in t)if(a=e.getExtension(t[s]+r))break;return a}return{dxt:e(gl,"WEBGL_compressed_texture_s3tc"),pvrtc:e(gl,"WEBGL_compressed_texture_pvrtc"),atc:e(gl,"WEBGL_compressed_texture_atc")}},a.prototype=Object.create(o.prototype),a.prototype.constructor=a,r.exports=a,s.ShaderManager.registerPlugin("compressedTextureManager",a),a.prototype.updateTexture=function(e,r){var t=this.renderer,a=this.renderer.gl,s=e.source;if(!(s instanceof n))throw"Not a compressed image";e._glTextures[a.id]||(e._glTextures[a.id]=a.createTexture(),e.on("dispose",t.destroyTexture,t)),a.bindTexture(a.TEXTURE_2D,e._glTextures[a.id]),a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.premultipliedAlpha),s.generateWebGLTexture(a,!r)},a.prototype.updateAllCompressedTextures=function(e,r){for(var t in e){var a=e[t];a.isCompressedImage&&this.updateTexture(a.texture,r)}},a.prototype.updateAllTextures=function(e,r){for(var t in e){var a=e[t];a.isCompressedImage?this.updateTexture(a.texture):a.isImage&&renderer.updateTexture(a.texture)}}},{"./CompressedImage":2}],4:[function(e,r,t){function a(e){return e=e||[],function(e,r){if(e.isCompressedImage=!1,e.xhr&&e.xhrType===Resource.XHR_RESPONSE_TYPE.BUFFER&&(-1!=e.url.indexOf(".dds")||-1!=e.url.indexOf(".pvr"))){var t=new s.BaseTexture(e.data,null,s.utils.getResolutionOfUrl(e.url));t.imageUrl=e.url,e.texture=new PIXI.Texture(t),e.data=null,e.isCompressedImage=!0,n.BaseTextureCache[t.imageUrl]=t,n.TextureCache[t.imageUrl]=e.texture}r()}}var s=PIXI,n=s.utils;e("./CompressedImage");r.exports=a},{"./CompressedImage":2}],5:[function(e,r,t){function a(e){return e=e||[],function(r,t){var a=r.options.choice;if(a){var s=r.url;if(!r._defaultUrlChoice){r._defaultUrlChoice=s;var n=s.lastIndexOf(".");if(!(n>=0))return t();r._baseUrl=s.substring(0,n)}for(var o=a.length-1;o>=0;o--)for(var s=baseUrl+a[o],i=0;i<e.length;i++){var u=e[i];if(s.length>=u.length&&s.substring(s.length-u.length)==u)return r.url=s,t()}}t()}}r.exports=a},{}],6:[function(e,r,t){function a(e){return function(e,r){if(e.texture&&e._defaultUrlChoice&&e._defaultUrl!=e.url){var t=e.texture,a=t.baseTexture;delete n.BaseTextureCache[a.imageUrl],delete n.TextureCache[a.imageUrl],a.imageUrl=e._defaultUrlChoice,s.utils.BaseTextureCache[a.imageUrl]=a,s.utils.TextureCache[a.imageUrl]=t}r()}}var s=PIXI,n=s.utils;e("./CompressedImage");r.exports=a},{"./CompressedImage":2}]},{},[1]);